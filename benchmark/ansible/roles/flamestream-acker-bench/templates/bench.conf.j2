benchmark {
  bench-host = "{{ hostvars[groups['bench'][0]].ansible_host }}"
  input-host = "{{ hostvars[groups['workers'][0]].ansible_host }}"
  bench-source-port = 4567
  bench-sink-port = 5678

  sleep-between-docs-ms = {{ rate }}
  stream-length = {{ stream_length }}
  parallelism = {{ parallelism }}
  tracking {
    {% if tracking == "acking" %}
    class = "com.spbsu.flamestream.example.benchmark.WatermarksVsAckerBenchStand$TrackingFactory$Acking"
    {% elif tracking == "watermarking" %}
    class = "com.spbsu.flamestream.example.benchmark.WatermarksVsAckerBenchStand$TrackingFactory$Watermarking"
    frequency = {{ tracking_frequency }}
    {% else %}
    class = "com.spbsu.flamestream.example.benchmark.WatermarksVsAckerBenchStand$TrackingFactory$Disabled"
    {% endif %}
  }
  iterations = {{ iterations }}
  children-number = {{ children }}
}
